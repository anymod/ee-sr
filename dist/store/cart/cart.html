<div class="container container-narrow vert-5">

  <h3 class="vert-10 margin-top-0 pad-10 pad-top-0 font-weight-200 text-center border-bottom-gray">
    Shopping cart<span ng-if="cart.ee.Cart.skus.length < 1" ng-hide="cart.ee.Cart.reading || cart.ee.Cart.updating">&nbsp;is empty</span>
  </h3>

  <div ng-if="cart.ee.Cart.skus.length < 1"
    ng-hide="cart.ee.Cart.reading || cart.ee.Cart.updating"
    class="full-width text-center">
    <div class="vert-10">
      <img class="width-50" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-paypal.png" alt="PayPal">&nbsp;<img class="width-50" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-visa.png" alt="Visa">&nbsp;<img class="width-50" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-mastercard.png" alt="Mastercard">&nbsp;<img class="width-50" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-amex.png" alt="American Express">&nbsp;<img class="width-50" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-discover.png" alt="Discover">
      <br>
      <h4 class="font-weight-200">Choose a product to see more like it</h4>
    </div>
    <ee-products-list
      products="cart.ee.Products.products"
      show-signup=true>
    </ee-products-list>
  </div>

  <div ng-if="cart.ee.Cart.skus.length > 0"
    class="row vert-10"
    ng-class="{ 'opacity-05': cart.ee.Cart.reading || cart.ee.Cart.updating }">

    <div class="col col-sm-7">

      <div ng-repeat="sku in cart.ee.Cart.skus"
        class="media border-bottom-gray max-width-400"
        style="margin: 0 auto 10px;">
        <div class="media-left media-top">
          <a ui-sref="product({ id: sku.product_id, title: (sku.product.title | urlText) })">
            <img ng-src="{{ sku.product.image | cloudinaryResizeTo:64:64 }}" />
          </a>
        </div>
        <div class="media-body">
          <h4 ng-bind="sku.product.title" class="font-weight-200 media-heading text-muted"></h4>
          <h5 ng-bind="sku.selection_text" class="font-weight-200 margin-0 text-muted"></h5>
          <div class="row vert-5">
            <div class="col-xs-5 col-sm-3">
              <span ng-show="sku.msrp && sku.msrp > sku.price">
                <s class="text-muted" ng-bind="sku.msrp | centToDollar"></s>&nbsp;
              </span>
              <strong ng-bind="sku.price | centToDollar"></strong>
              <div class="text-muted">
                <em>
                  <span ng-bind="(sku.shipping_price || 0) | centToDollar"></span>&nbsp;s/h
                </em>
              </div>
            </div>
            <div class="col-xs-7">
              <div ng-repeat="pair in cart.ee.Cart.quantity_array"
                ng-if="sku.id == pair.sku_id"
                class="inline-block" style="width: 50px;">
                <select class="form-control input-sm"
                  ng-model="pair.quantity"
                  ng-options="qty for qty in [1,2,3,4,5,6,7,8]"
                  ng-change="cart.update()">
                </select>
              </div>&nbsp;
              <div class="btn btn-xs btn-link text-dark-blue" ng-click="cart.removeSku(sku.id)">remove</div>
            </div>
          </div>
        </div>
      </div>

      <br>

    </div>

    <div class="col col-sm-5">
      <div class="margin-0-auto" style="width: 280px;">

        <!-- <ee-paypal-button show-button="cart.showPaypalButton"></ee-paypal-button>

        <h4 class="vert-10 text-center text-muted font-weight-200" ng-show="cart.showPaypalButton">
          OR
        </h4> -->


        <div ng-click="cart.buy()"
          class="btn btn-block btn-themed pad-5"
          style="border: none !important;"
          ng-disabled="cart.processing || cart.ee.Cart.updating || cart.ee.Cart.skus.length < 1">
          Proceed to Checkout &raquo;
        </div>
        <div class="vert-10 full-width text-center">
          <img class="width-40" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-visa.png" alt="Visa">&nbsp;<img class="width-40" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-mastercard.png" alt="Mastercard">&nbsp;<img class="width-40" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-amex.png" alt="American Express">&nbsp;<img class="width-40" src="//cdn.shopify.com/s/files/1/0269/1895/t/2/assets/cc-discover.png" alt="Discover">
        </div>

        <h4>Order Summary</h4>
        <p class="margin-0">Items: <span class="pull-right" ng-bind="cart.ee.Cart.summary.cumulative_price | centToDollar"></span></p>
        <p class="margin-0">Shipping & handling: <span class="pull-right"><span ng-hide="cart.ee.Cart.summary.free_shipping" ng-bind="cart.ee.Cart.summary.shipping_total | centToDollar"></span><span ng-show="cart.ee.Cart.summary.free_shipping">Free</span></span></p>
        <hr class="vert-5">
        <p class="margin-0">Total before tax: <span class="pull-right" ng-bind="cart.ee.Cart.summary.subtotal | centToDollar"></span></p>
        <p class="margin-0">Estimated tax: <span class="pull-right" ng-bind="cart.ee.Cart.summary.taxes_total | centToDollar"></span></p>
        <hr class="vert-5">
        <h4 class="margin-0">Order total: <span class="pull-right" ng-bind="cart.ee.Cart.summary.grand_total | centToDollar"></span></h4>
      </div>
    </div>

  </div> <!-- /row -->
</div>

<ee-loading loading="cart.ee.Cart.reading || cart.ee.Cart.updating || cart.ee.Products.reading" ee-min-height="600"></ee-loading>
